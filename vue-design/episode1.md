# Episode. 1
## 命令式和声明式

**命令式**

- 代码流程
    - 获取要修改的标签(或新建需要的标签)
    - 填充标签内容
    - 绑定事件监听器
    - (插入原先的DOM结构中，如果是新建标签)


**声明式**

- 代码流程
    - 类HTML模板直接描述最终想要的结果

| 命令式           | 声明式                                               |
| ---------------- | ---------------------------------------------------- |
| 关注过程         | 关注结果(写代码时不关注内部如何实现)                 |
| 性能不弱于声明式 | 更新性能除了命令式的直接修改，还需要先识别出前后差异 |
| 可维护性较差     | 可维护性好                                           |


> Vue.js的内部实现一定是命令式的，而暴露给用户的却更加声明式。

## 虚拟DOM
**意义**：最小化找出差异这一步的性能消耗

整体流程：
- 创建页面时：
    1. 创建JavaScript对象（VNode）
    2. 新建所有DOM元素
- 更新页面时：
    1. 创建新的JavaScript对象
    2. Diff算法识别改动点
    3. 只进行必要的DOM更新

| innerHTML(模板)                          | 虚拟DOM    | 原生JavaScript命令 |
| ---------------------------------------- | ---------- | ------------------ |
| 心智负担中                               | 心智负担小 | 心智负担大         |
| 可维护性中                               | 可维护性强 | 可维护性差         |
| 性能差(特别是模板很大，而改动很小的情况) | 性能不错   | 性能最高           |

`====以上方案性能由低到高====>`

## 运行时 & 编译时 (Render & Compiler)
- 运行时(Render)：只接收用户输入的JavaScript对象，将其渲染添加到页面中
    - 对应Vue中的`runtime-only`
- 运行时 + 编译时：接收类HTML模板，将其编译为对应的JavaScript对象，再渲染到页面中
    - 对应Vue中的`runtime-compiler`
- 编译时(Compiler)：只接收用户输入的类HTML模板，将其直接编译成命令式代码执行(*e.g. Svelte*)

