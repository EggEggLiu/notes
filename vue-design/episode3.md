# Vue.js 3 的设计思路
## 声明式地描述UI
UI涉及哪些内容：
- DOM元素：`<div>`标签、`<a>`标签等
- 属性：`id`、`class`、`href`等
- 事件：`click`、`keydown`等
- 层级结构：DOM树的层级结构

Vue.js中的两种解决方案：
| 模板                                   | 虚拟DOM <br/> 用来描述真实DOM的普通JavaScript对象 |
| -------------------------------------- | ------------------------ |
| HTML标签                               | `tag`                    |
| HTML属性<br />可使用`:`动态绑定        | `props`                  |
| 使用`@`描述事件                        | `props`                  |
| 和HTML标签一样使用嵌套方式描述层级结构 | `children`               |

**渲染函数**：**渲染函数并不渲染**，只描述需要渲染的内容，实际返回值为虚拟DOM。

## 渲染器
- 作用：把虚拟DOM渲染为真实DOM
- **精髓**：在后续更新阶段，通过diff算法找出找出变更点，只更新需要更新的内容
- 手写基础渲染器：递归遍历虚拟DOM，调用原生DOM API创建真实DOM

## 组件
- 本质：一组DOM元素的封装
- 返回值可以是：虚拟DOM、函数、不仅包含虚拟DOM的JavaScript对象
    - 最终都要执行组件的渲染函数得到`subtree`

## 编译器
- 模板 =编译器=> 虚拟DOM =渲染器=> 真实DOM
- 编译器与渲染器存在信息交流(通过虚拟DOM)
    - 编译阶段，编译器识别出哪些内容动态更新，并将信息传递给渲染器以提高性能
